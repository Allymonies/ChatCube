'use strict';

var slice = Array.prototype.slice;
var isArgs = require('./isArguments');

var origKeys = Object.keys;
var keysShim = origKeys ? function keys(o) ***REMOVED*** return origKeys(o); ***REMOVED*** : require('./implementation');

var originalKeys = Object.keys;

keysShim.shim = function shimObjectKeys() ***REMOVED***
	if (Object.keys) ***REMOVED***
		var keysWorksWithArguments = (function () ***REMOVED***
			// Safari 5.0 bug
			var args = Object.keys(arguments);
			return args && args.length === arguments.length;
		***REMOVED***(1, 2));
		if (!keysWorksWithArguments) ***REMOVED***
			Object.keys = function keys(object) ***REMOVED*** // eslint-disable-line func-name-matching
				if (isArgs(object)) ***REMOVED***
					return originalKeys(slice.call(object));
				***REMOVED***
				return originalKeys(object);
			***REMOVED***;
		***REMOVED***
	***REMOVED*** else ***REMOVED***
		Object.keys = keysShim;
	***REMOVED***
	return Object.keys || keysShim;
***REMOVED***;

module.exports = keysShim;
