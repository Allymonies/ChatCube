"use strict";
/// <reference lib="es2019.array" />
Object.defineProperty(exports, "__esModule", ***REMOVED*** value: true ***REMOVED***);
exports.HelixInstalledExtensionList = void 0;
var tslib_1 = require("tslib");
var shared_utils_1 = require("@d-fischer/shared-utils");
var twitch_common_1 = require("twitch-common");
var HelixInstalledExtension_1 = require("./HelixInstalledExtension");
/**
 * A list of extensions installed in a channel.
 */
var HelixInstalledExtensionList = /** @class */ (function () ***REMOVED***
    /** @private */
    function HelixInstalledExtensionList(data) ***REMOVED***
        this._data = data;
    ***REMOVED***
    HelixInstalledExtensionList.prototype.getExtensionAtSlot = function (type, slotId) ***REMOVED***
        var data = this._data[type][slotId];
        return data.active ? new HelixInstalledExtension_1.HelixInstalledExtension(type, slotId, data) : null;
    ***REMOVED***;
    HelixInstalledExtensionList.prototype.getExtensionsForSlotType = function (type) ***REMOVED***
        return tslib_1.__spread(Object.entries(this._data[type])).filter(function (entry) ***REMOVED*** return entry[1].active; ***REMOVED***)
            .map(function (_a) ***REMOVED***
            var _b = tslib_1.__read(_a, 2), slotId = _b[0], slotData = _b[1];
            return new HelixInstalledExtension_1.HelixInstalledExtension(type, slotId, slotData);
        ***REMOVED***);
    ***REMOVED***;
    HelixInstalledExtensionList.prototype.getAllExtensions = function () ***REMOVED***
        return tslib_1.__spread(Object.entries(this._data)).flatMap(function (_a) ***REMOVED***
            var _b = tslib_1.__read(_a, 2), type = _b[0], typeEntries = _b[1];
            return tslib_1.__spread(Object.entries(typeEntries)).filter(function (entry) ***REMOVED*** return entry[1].active; ***REMOVED***)
                .map(function (_a) ***REMOVED***
                var _b = tslib_1.__read(_a, 2), slotId = _b[0], slotData = _b[1];
                return new HelixInstalledExtension_1.HelixInstalledExtension(type, slotId, slotData);
            ***REMOVED***);
        ***REMOVED***);
    ***REMOVED***;
    tslib_1.__decorate([
        shared_utils_1.Enumerable(false)
    ], HelixInstalledExtensionList.prototype, "_data", void 0);
    HelixInstalledExtensionList = tslib_1.__decorate([
        twitch_common_1.rtfm('twitch', 'HelixInstalledExtensionList')
    ], HelixInstalledExtensionList);
    return HelixInstalledExtensionList;
***REMOVED***());
exports.HelixInstalledExtensionList = HelixInstalledExtensionList;
