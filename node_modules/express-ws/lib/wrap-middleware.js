"use strict";

Object.defineProperty(exports, "__esModule", ***REMOVED***
  value: true
***REMOVED***);
exports.default = wrapMiddleware;
function wrapMiddleware(middleware) ***REMOVED***
  return function (req, res, next) ***REMOVED***
    if (req.ws !== null && req.ws !== undefined) ***REMOVED***
      req.wsHandled = true;
      try ***REMOVED***
        /* Unpack the `.ws` property and call the actual handler. */
        middleware(req.ws, req, next);
      ***REMOVED*** catch (err) ***REMOVED***
        /* If an error is thrown, let's send that on to any error handling */
        next(err);
      ***REMOVED***
    ***REMOVED*** else ***REMOVED***
      /* This wasn't a WebSocket request, so skip this middleware. */
      next();
    ***REMOVED***
  ***REMOVED***;
***REMOVED***