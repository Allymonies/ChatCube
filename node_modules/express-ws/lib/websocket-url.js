'use strict';

Object.defineProperty(exports, "__esModule", ***REMOVED***
  value: true
***REMOVED***);

var _slicedToArray = function () ***REMOVED*** function sliceIterator(arr, i) ***REMOVED*** var _arr = []; var _n = true; var _d = false; var _e = undefined; try ***REMOVED*** for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) ***REMOVED*** _arr.push(_s.value); if (i && _arr.length === i) break; ***REMOVED*** ***REMOVED*** catch (err) ***REMOVED*** _d = true; _e = err; ***REMOVED*** finally ***REMOVED*** try ***REMOVED*** if (!_n && _i["return"]) _i["return"](); ***REMOVED*** finally ***REMOVED*** if (_d) throw _e; ***REMOVED*** ***REMOVED*** return _arr; ***REMOVED*** return function (arr, i) ***REMOVED*** if (Array.isArray(arr)) ***REMOVED*** return arr; ***REMOVED*** else if (Symbol.iterator in Object(arr)) ***REMOVED*** return sliceIterator(arr, i); ***REMOVED*** else ***REMOVED*** throw new TypeError("Invalid attempt to destructure non-iterable instance"); ***REMOVED*** ***REMOVED***; ***REMOVED***();

exports.default = websocketUrl;

var _trailingSlash = require('./trailing-slash');

var _trailingSlash2 = _interopRequireDefault(_trailingSlash);

function _interopRequireDefault(obj) ***REMOVED*** return obj && obj.__esModule ? obj : ***REMOVED*** default: obj ***REMOVED***; ***REMOVED***

/* The following fixes HenningM/express-ws#17, correctly. */
function websocketUrl(url) ***REMOVED***
  if (url.indexOf('?') !== -1) ***REMOVED***
    var _url$split = url.split('?'),
        _url$split2 = _slicedToArray(_url$split, 2),
        baseUrl = _url$split2[0],
        query = _url$split2[1];

    return (0, _trailingSlash2.default)(baseUrl) + '.websocket?' + query;
  ***REMOVED***
  return (0, _trailingSlash2.default)(url) + '.websocket';
***REMOVED***