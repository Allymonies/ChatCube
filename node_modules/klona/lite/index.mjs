export function klona(x) ***REMOVED***
	if (typeof x !== 'object') return x;

	var k, tmp, str=Object.prototype.toString.call(x);

	if (str === '[object Object]') ***REMOVED***
		if (x.constructor !== Object && typeof x.constructor === 'function') ***REMOVED***
			tmp = new x.constructor();
			for (k in x) ***REMOVED***
				if (x.hasOwnProperty(k) && tmp[k] !== x[k]) ***REMOVED***
					tmp[k] = klona(x[k]);
				***REMOVED***
			***REMOVED***
		***REMOVED*** else ***REMOVED***
			tmp = ***REMOVED******REMOVED***; // null
			for (k in x) ***REMOVED***
				if (k === '__proto__') ***REMOVED***
					Object.defineProperty(tmp, k, ***REMOVED***
						value: klona(x[k]),
						configurable: true,
						enumerable: true,
						writable: true,
					***REMOVED***);
				***REMOVED*** else ***REMOVED***
					tmp[k] = klona(x[k]);
				***REMOVED***
			***REMOVED***
		***REMOVED***
		return tmp;
	***REMOVED***

	if (str === '[object Array]') ***REMOVED***
		k = x.length;
		for (tmp=Array(k); k--;) ***REMOVED***
			tmp[k] = klona(x[k]);
		***REMOVED***
		return tmp;
	***REMOVED***

	if (str === '[object Date]') ***REMOVED***
		return new Date(+x);
	***REMOVED***

	if (str === '[object RegExp]') ***REMOVED***
		tmp = new RegExp(x.source, x.flags);
		tmp.lastIndex = x.lastIndex;
		return tmp;
	***REMOVED***

	return x;
***REMOVED***
