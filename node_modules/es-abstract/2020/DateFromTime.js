'use strict';

var GetIntrinsic = require('get-intrinsic');

var $EvalError = GetIntrinsic('%EvalError%');

var DayWithinYear = require('./DayWithinYear');
var InLeapYear = require('./InLeapYear');
var MonthFromTime = require('./MonthFromTime');

// https://262.ecma-international.org/5.1/#sec-15.9.1.5

module.exports = function DateFromTime(t) ***REMOVED***
	var m = MonthFromTime(t);
	var d = DayWithinYear(t);
	if (m === 0) ***REMOVED***
		return d + 1;
	***REMOVED***
	if (m === 1) ***REMOVED***
		return d - 30;
	***REMOVED***
	var leap = InLeapYear(t);
	if (m === 2) ***REMOVED***
		return d - 58 - leap;
	***REMOVED***
	if (m === 3) ***REMOVED***
		return d - 89 - leap;
	***REMOVED***
	if (m === 4) ***REMOVED***
		return d - 119 - leap;
	***REMOVED***
	if (m === 5) ***REMOVED***
		return d - 150 - leap;
	***REMOVED***
	if (m === 6) ***REMOVED***
		return d - 180 - leap;
	***REMOVED***
	if (m === 7) ***REMOVED***
		return d - 211 - leap;
	***REMOVED***
	if (m === 8) ***REMOVED***
		return d - 242 - leap;
	***REMOVED***
	if (m === 9) ***REMOVED***
		return d - 272 - leap;
	***REMOVED***
	if (m === 10) ***REMOVED***
		return d - 303 - leap;
	***REMOVED***
	if (m === 11) ***REMOVED***
		return d - 333 - leap;
	***REMOVED***
	throw new $EvalError('Assertion failed: MonthFromTime returned an impossible value: ' + m);
***REMOVED***;
