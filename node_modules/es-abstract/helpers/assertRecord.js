'use strict';

var GetIntrinsic = require('get-intrinsic');

var $TypeError = GetIntrinsic('%TypeError%');
var $SyntaxError = GetIntrinsic('%SyntaxError%');

var has = require('has');

var predicates = ***REMOVED***
	// https://262.ecma-international.org/6.0/#sec-property-descriptor-specification-type
	'Property Descriptor': function isPropertyDescriptor(Type, Desc) ***REMOVED***
		if (Type(Desc) !== 'Object') ***REMOVED***
			return false;
		***REMOVED***
		var allowed = ***REMOVED***
			'[[Configurable]]': true,
			'[[Enumerable]]': true,
			'[[Get]]': true,
			'[[Set]]': true,
			'[[Value]]': true,
			'[[Writable]]': true
		***REMOVED***;

		for (var key in Desc) ***REMOVED*** // eslint-disable-line
			if (has(Desc, key) && !allowed[key]) ***REMOVED***
				return false;
			***REMOVED***
		***REMOVED***

		var isData = has(Desc, '[[Value]]');
		var IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');
		if (isData && IsAccessor) ***REMOVED***
			throw new $TypeError('Property Descriptors may not be both accessor and data descriptors');
		***REMOVED***
		return true;
	***REMOVED***
***REMOVED***;

module.exports = function assertRecord(Type, recordType, argumentName, value) ***REMOVED***
	var predicate = predicates[recordType];
	if (typeof predicate !== 'function') ***REMOVED***
		throw new $SyntaxError('unknown record type: ' + recordType);
	***REMOVED***
	if (!predicate(Type, value)) ***REMOVED***
		throw new $TypeError(argumentName + ' must be a ' + recordType);
	***REMOVED***
***REMOVED***;
