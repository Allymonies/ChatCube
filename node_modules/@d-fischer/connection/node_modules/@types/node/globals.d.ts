// Declare "static" methods in Error
interface ErrorConstructor ***REMOVED***
    /** Create .stack property on a target object */
    captureStackTrace(targetObject: object, constructorOpt?: Function): void;

    /**
     * Optional override for formatting stack traces
     *
     * @see https://v8.dev/docs/stack-trace-api#customizing-stack-traces
     */
    prepareStackTrace?: ((err: Error, stackTraces: NodeJS.CallSite[]) => any) | undefined;

    stackTraceLimit: number;
***REMOVED***

/*-----------------------------------------------*
 *                                               *
 *                   GLOBAL                      *
 *                                               *
 ------------------------------------------------*/

// For backwards compability
interface NodeRequire extends NodeJS.Require ***REMOVED*** ***REMOVED***
interface RequireResolve extends NodeJS.RequireResolve ***REMOVED*** ***REMOVED***
interface NodeModule extends NodeJS.Module ***REMOVED*** ***REMOVED***

declare var process: NodeJS.Process;
declare var console: Console;

declare var __filename: string;
declare var __dirname: string;

declare var require: NodeRequire;
declare var module: NodeModule;

// Same as module.exports
declare var exports: any;

/**
 * Only available if `--expose-gc` is passed to the process.
 */
declare var gc: undefined | (() => void);

//#region borrowed
// from https://github.com/microsoft/TypeScript/blob/38da7c600c83e7b31193a62495239a0fe478cb67/lib/lib.webworker.d.ts#L633 until moved to separate lib
/** A controller object that allows you to abort one or more DOM requests as and when desired. */
interface AbortController ***REMOVED***
    /**
     * Returns the AbortSignal object associated with this object.
     */

    readonly signal: AbortSignal;
    /**
     * Invoking this method will set this object's AbortSignal's aborted flag and signal to any observers that the associated activity is to be aborted.
     */
    abort(): void;
***REMOVED***

/** A signal object that allows you to communicate with a DOM request (such as a Fetch) and abort it if required via an AbortController object. */
interface AbortSignal ***REMOVED***
    /**
     * Returns true if this AbortSignal's AbortController has signaled to abort, and false otherwise.
     */
    readonly aborted: boolean;
***REMOVED***

declare var AbortController: ***REMOVED***
    prototype: AbortController;
    new(): AbortController;
***REMOVED***;

declare var AbortSignal: ***REMOVED***
    prototype: AbortSignal;
    new(): AbortSignal;
    // TODO: Add abort() static
***REMOVED***;
//#endregion borrowed

//#region ArrayLike.at()
interface RelativeIndexable<T> ***REMOVED***
    /**
     * Takes an integer value and returns the item at that index,
     * allowing for positive and negative integers.
     * Negative integers count back from the last item in the array.
     */
    at(index: number): T | undefined;
***REMOVED***
interface String extends RelativeIndexable<string> ***REMOVED******REMOVED***
interface Array<T> extends RelativeIndexable<T> ***REMOVED******REMOVED***
interface Int8Array extends RelativeIndexable<number> ***REMOVED******REMOVED***
interface Uint8Array extends RelativeIndexable<number> ***REMOVED******REMOVED***
interface Uint8ClampedArray extends RelativeIndexable<number> ***REMOVED******REMOVED***
interface Int16Array extends RelativeIndexable<number> ***REMOVED******REMOVED***
interface Uint16Array extends RelativeIndexable<number> ***REMOVED******REMOVED***
interface Int32Array extends RelativeIndexable<number> ***REMOVED******REMOVED***
interface Uint32Array extends RelativeIndexable<number> ***REMOVED******REMOVED***
interface Float32Array extends RelativeIndexable<number> ***REMOVED******REMOVED***
interface Float64Array extends RelativeIndexable<number> ***REMOVED******REMOVED***
interface BigInt64Array extends RelativeIndexable<bigint> ***REMOVED******REMOVED***
interface BigUint64Array extends RelativeIndexable<bigint> ***REMOVED******REMOVED***
//#endregion ArrayLike.at() end

/*----------------------------------------------*
*                                               *
*               GLOBAL INTERFACES               *
*                                               *
*-----------------------------------------------*/
declare namespace NodeJS ***REMOVED***
    interface CallSite ***REMOVED***
        /**
         * Value of "this"
         */
        getThis(): unknown;

        /**
         * Type of "this" as a string.
         * This is the name of the function stored in the constructor field of
         * "this", if available.  Otherwise the object's [[Class]] internal
         * property.
         */
        getTypeName(): string | null;

        /**
         * Current function
         */
        getFunction(): Function | undefined;

        /**
         * Name of the current function, typically its name property.
         * If a name property is not available an attempt will be made to try
         * to infer a name from the function's context.
         */
        getFunctionName(): string | null;

        /**
         * Name of the property [of "this" or one of its prototypes] that holds
         * the current function
         */
        getMethodName(): string | null;

        /**
         * Name of the script [if this function was defined in a script]
         */
        getFileName(): string | null;

        /**
         * Current line number [if this function was defined in a script]
         */
        getLineNumber(): number | null;

        /**
         * Current column number [if this function was defined in a script]
         */
        getColumnNumber(): number | null;

        /**
         * A call site object representing the location where eval was called
         * [if this function was created using a call to eval]
         */
        getEvalOrigin(): string | undefined;

        /**
         * Is this a toplevel invocation, that is, is "this" the global object?
         */
        isToplevel(): boolean;

        /**
         * Does this call take place in code defined by a call to eval?
         */
        isEval(): boolean;

        /**
         * Is this call in native V8 code?
         */
        isNative(): boolean;

        /**
         * Is this a constructor call?
         */
        isConstructor(): boolean;
    ***REMOVED***

    interface ErrnoException extends Error ***REMOVED***
        errno?: number | undefined;
        code?: string | undefined;
        path?: string | undefined;
        syscall?: string | undefined;
    ***REMOVED***

    interface ReadableStream extends EventEmitter ***REMOVED***
        readable: boolean;
        read(size?: number): string | Buffer;
        setEncoding(encoding: BufferEncoding): this;
        pause(): this;
        resume(): this;
        isPaused(): boolean;
        pipe<T extends WritableStream>(destination: T, options?: ***REMOVED*** end?: boolean | undefined; ***REMOVED***): T;
        unpipe(destination?: WritableStream): this;
        unshift(chunk: string | Uint8Array, encoding?: BufferEncoding): void;
        wrap(oldStream: ReadableStream): this;
        [Symbol.asyncIterator](): AsyncIterableIterator<string | Buffer>;
    ***REMOVED***

    interface WritableStream extends EventEmitter ***REMOVED***
        writable: boolean;
        write(buffer: Uint8Array | string, cb?: (err?: Error | null) => void): boolean;
        write(str: string, encoding?: BufferEncoding, cb?: (err?: Error | null) => void): boolean;
        end(cb?: () => void): void;
        end(data: string | Uint8Array, cb?: () => void): void;
        end(str: string, encoding?: BufferEncoding, cb?: () => void): void;
    ***REMOVED***

    interface ReadWriteStream extends ReadableStream, WritableStream ***REMOVED*** ***REMOVED***

    interface RefCounted ***REMOVED***
        ref(): this;
        unref(): this;
    ***REMOVED***

    type TypedArray =
        | Uint8Array
        | Uint8ClampedArray
        | Uint16Array
        | Uint32Array
        | Int8Array
        | Int16Array
        | Int32Array
        | BigUint64Array
        | BigInt64Array
        | Float32Array
        | Float64Array;
    type ArrayBufferView = TypedArray | DataView;

    interface Require ***REMOVED***
        (id: string): any;
        resolve: RequireResolve;
        cache: Dict<NodeModule>;
        /**
         * @deprecated
         */
        extensions: RequireExtensions;
        main: Module | undefined;
    ***REMOVED***

    interface RequireResolve ***REMOVED***
        (id: string, options?: ***REMOVED*** paths?: string[] | undefined; ***REMOVED***): string;
        paths(request: string): string[] | null;
    ***REMOVED***

    interface RequireExtensions extends Dict<(m: Module, filename: string) => any> ***REMOVED***
        '.js': (m: Module, filename: string) => any;
        '.json': (m: Module, filename: string) => any;
        '.node': (m: Module, filename: string) => any;
    ***REMOVED***
    interface Module ***REMOVED***
        /**
         * `true` if the module is running during the Node.js preload
         */
        isPreloading: boolean;
        exports: any;
        require: Require;
        id: string;
        filename: string;
        loaded: boolean;
        /** @deprecated since 14.6.0 Please use `require.main` and `module.children` instead. */
        parent: Module | null | undefined;
        children: Module[];
        /**
         * @since 11.14.0
         *
         * The directory name of the module. This is usually the same as the path.dirname() of the module.id.
         */
        path: string;
        paths: string[];
    ***REMOVED***

    interface Dict<T> ***REMOVED***
        [key: string]: T | undefined;
    ***REMOVED***

    interface ReadOnlyDict<T> ***REMOVED***
        readonly [key: string]: T | undefined;
    ***REMOVED***
***REMOVED***
